<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Jinlong Zhang&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Jinlong Zhang&#39;s blog">
<meta property="og:url" content="https://helixcn.github.io/page/14/index.html">
<meta property="og:site_name" content="Jinlong Zhang&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jinlong Zhang">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Jinlong Zhang's blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jinlong Zhang&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://helixcn.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-2015-7-11-runpythoninr" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/07/10/2015-7-11-runpythoninr/" class="article-date">
  <time class="dt-published" datetime="2015-07-10T08:11:54.000Z" itemprop="datePublished">2015-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/07/10/2015-7-11-runpythoninr/">R中调用Python代码: 以运行PyEphem天文计算程序包为例</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>操作系统Linux Mint<br>安装 python 2.7.6 dev 版本<br>pyephem 所需要的 Numpy,Scipy 已经安装<br>rPython程序包所依赖的RJSONIO程序包也已经通过install.packages(“RJSONIO”) 安装到R中。</p>
<p>举例：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">library(rPython)</span><br><span class="line">python.exec(<span class="string">&quot;from ephem import *&quot;</span>)</span><br><span class="line">python.exec(<span class="string">&quot;j = ephem.Jupiter()&quot;</span>)</span><br><span class="line">python.exec(<span class="string">&quot;j.compute(&#x27;1986/2/8&#x27;)&quot;</span>)</span><br><span class="line">python.exec(<span class="string">&quot;print(&#x27;%s %s&#x27; % (j.ra, j.dec))&quot;</span>)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/07/10/2015-7-11-runpythoninr/" data-id="ckrsvkzag007390w0hh12d05z" data-title="R中调用Python代码: 以运行PyEphem天文计算程序包为例" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-5-26-ad" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/05/26/2015-5-26-ad/" class="article-date">
  <time class="dt-published" datetime="2015-05-26T02:22:54.000Z" itemprop="datePublished">2015-05-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/05/26/2015-5-26-ad/">嘉道理农场暨植物园诚聘“植物鉴定和记录主任（已招到）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>以下是简体中文说明（招聘信息以英文版为准）。</p>
<p>工作职责和要求如下：</p>
<p>（1）在香港和华南地区进行与植物保育与研究相关的野外工作。</p>
<p>（2）在野外以及标本馆进行植物的辨认或鉴定， 并保证采集的植物都有完整的采集记录。</p>
<p>（3）建立和管理嘉道理农场的植物采集记录数据库。</p>
<p>（4）组织森林监测样地的调查，并使数据格式符合CTFS的标准。</p>
<p>（5）做植物保育相关工作的报告。</p>
<p>（6）进行一般的行政管理， 如管理数据， 以及其他工人等。</p>
<p>要求：</p>
<ul>
<li><p>认同嘉道理农场暨植物园的目标， 远景以及价值观。</p>
</li>
<li><p>具有研究生以上的学位（具有博士学位优先）， 该学位需要与植物多样性和保护相关。</p>
</li>
<li><p>热衷于植物生物多样性的保护。</p>
</li>
<li><p>能够在野外鑑定出香港和华南地区的常见植物。</p>
</li>
<li><p>具有管理植物数据库和植物图片的经验。</p>
</li>
<li><p>具备森林样地或植被数据分析的背景， 至少在以下方面之一有工作经验 （1） 植物系统分类学 （2）群落生态学 （3） 物种分布模型 （4） 宏观生态学。</p>
</li>
<li><p>具有良好的沟通能力， 品行端正。</p>
</li>
<li><p>具有良好的英文和中文的听说读写能力。</p>
</li>
<li><p>有 R, Python, SQL 和 GIS背景的申请人优先考虑。</p>
</li>
<li><p>身体情况适合野外工作， 并且有出野外的经验。</p>
</li>
<li><p>具有开阔胸襟， 尊重大自然。</p>
</li>
</ul>
<p>条件符合者将会被通知面试， 面试通过后，将以“输入内地人才计划”的方式来港工作。</p>
<p>请注意： 工作语言以及面试， 均为英文.</p>
<p>申请者请准备</p>
<p>（1） 英文版个人简历， 附上两位推荐人， 并说明申请的职位， 以及期望的薪水。</p>
<p>（2） 一封申请信 （给出相应的工作经验以及为什麽对该职位感兴趣）。</p>
<p>邮寄到 Human Resources Manager, Kadoorie Farm &amp; Botanic Garden Corporation, Lam Kam Road, Tai Po, New Territories, Hong Kong</p>
<p>或电邮 到 <a href="mailto:kfjobs@kfbg.org">kfjobs@kfbg.org</a></p>
<p>以下为 英文版招聘广告, 原文链接 <a target="_blank" rel="noopener" href="http://www.kfbg.org/eng/PIRO-flo.aspx">http://www.kfbg.org/eng/PIRO-flo.aspx</a></p>
<p><strong>Plant Identification and Records Officer, FloraConservation Department, Kadoorie Farm and Botanic Garden Corporation, HongKong SAR.</strong></p>
<p>KFBG isseeking a highly motivated ecologist/botanist working on plantbiodiversity conservation and research in the Flora Conservation Department. Thecandidate should be enthusiastic with good communication skills, capable of working in ateam and managing projects under supervision. Daily duties will include(1) to help to curate the KFBG herbarium including the management of theinternal specimen collection database and to conduct plant exploration fieldtrips in Hong Kong and South China, (2) to organise and to participate in thesurvey of forest dynamic plots and ecological forest restoration plantings, and(3) to analyse existing and accumulating forest restoration and forestmonitoring datasets.</p>
<p><strong>Responsibilities</strong></p>
<p> To conduct field trips in countryside of HongKong and in South China for plant conservation and research projects.</p>
<p> To identify plant specimens both in the fieldand in herbarium to ensure the plant collections are well labelled.</p>
<p> To establish and manage an inventory databaseof botanical data for KFBG, and to handle the specimen collection records aspart of the mission, activities, and projects of KFBG.</p>
<p> To organize the (re)-census of forest dynamicand forest restoration plots and to process the dataset based on CTFS standard.</p>
<p> To provide capacity building and deliverpresentations or guided tours for plant conservation work relevant to themission of the Flora Conservation Department.</p>
<p> To handle general administrative duties,including but not limited to documentation of various kinds of data andsupervising other workers.</p>
<p><strong>Requirements:</strong></p>
<p> Commitment to the mission, vision and valuesof KFBGC. Being open minded and recognizes the validity of all spiritual paths.Being passionate about the biodiversity of plants and its conservation.</p>
<p> Possess a postgraduate degree (preferably PhDDegree) related to Plant Biodiversity and Conservation.</p>
<p> With field identification skills pertainingto the wild plants of Hong Kong and South China.</p>
<p> Experience in managing databases for plantinformation, including the living and preserved collections, and plant photos.</p>
<p> Experience in data analysis for forest plotsor vegetation. Experience either in (1) plant systematics, (2) communityecology, (3) species distribution modelling or (4) macro ecological studies.</p>
<p> Computer literacy, with experience andknowledge in computer programming using: R, Python, SQL and GIS would be anadvantage.</p>
<p> Good communication and interpersonal skills,including good command of spoken and written English and Chinese.</p>
<p> Physically fit for outdoor work andexperience in hiking in countryside.</p>
<p>Further Information isavailable at:  <a target="_blank" rel="noopener" href="http://www.kfbg.org/eng/PIRO-flo.aspx">http://www.kfbg.org/eng/PIRO-flo.aspx</a></p>
<p><strong>How to apply:</strong></p>
<p>Please send a C.V. (withtwo references, interested position and expected salary) and a short essay (onrelevant experience and reasons for interest in the post) to the HumanResources Manager, Kadoorie Farm &amp; Botanic Garden Corporation, Lam KamRoad, Tai Po, New Territories, Hong Kong or email to <a href="mailto:&#x6b;&#x66;&#106;&#x6f;&#98;&#x73;&#64;&#107;&#102;&#x62;&#x67;&#x2e;&#x6f;&#114;&#x67;">&#x6b;&#x66;&#106;&#x6f;&#98;&#x73;&#64;&#107;&#102;&#x62;&#x67;&#x2e;&#x6f;&#114;&#x67;</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/05/26/2015-5-26-ad/" data-id="ckrsvkzag007190w0axiv5ly6" data-title="嘉道理农场暨植物园诚聘“植物鉴定和记录主任（已招到）" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B1%82%E8%81%8C/" rel="tag">求职</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-5-23-geany" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/05/23/2015-5-23-geany/" class="article-date">
  <time class="dt-published" datetime="2015-05-22T17:53:54.000Z" itemprop="datePublished">2015-05-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/05/23/2015-5-23-geany/">Linux 使用Geany编写并调试R脚本</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Geany是Linux下的一个文本编辑器， 十分简洁高效。 带有多种编程语言的高亮， 对于需要编译的语言如 C， C++， Fotran等， Geany提供了编译以及调试的平台。 用户可以直接写代码， 然后编译成可执行文件。<br>而Geany也可以用来编辑R， python等脚本语言， 并且， 通过简单的设定， 即可将所选的代码发送到Terminal。 </p>
<p>为了将所选择的命令直接发送到Terminal， 设定如下： </p>
<ol>
<li>/home/username/.config/geany/ 中， 打开 geany.conf<br>更改 send_selection_unsafe=true </li>
</ol>
<p>其中username要替换成该linux用户名</p>
<ol start="2">
<li><p>打开geany， Edit &gt;Preferences&gt;KeyBindings&gt; Format &gt; Sent Selection to Terminal<br>按住 Control键 和 R键<br>然后选择 overwritten， 保存即可。</p>
</li>
<li><p>使用时， 先在下方的Terminal 输入R以打开R， 然后选择要运行的R命令， 同时按住Control和R键即可。</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/05/23/2015-5-23-geany/" data-id="ckrsvkzaf006z90w07b3c15hp" data-title="Linux 使用Geany编写并调试R脚本" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6/" rel="tag">软件</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-5-18-github" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/05/17/2015-5-18-github/" class="article-date">
  <time class="dt-published" datetime="2015-05-17T08:31:54.000Z" itemprop="datePublished">2015-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/05/17/2015-5-18-github/">用git在github上托管代码</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>git是版本控制工具，主要用来监测和记录纯文本文件所做的更改。git可以将所做的修改远程提交到git repository （如 github） 。 同时， 每一个git用户可以设定多个分支。 其中master分支， 一般作为软件的正式发布版本。 以其他名字命名的分支， 可以进行debug。 不同的分支之间， 可以合并。 而每一次提交修改， 都是在本地的repository库中进行， 只有在push到远程的repository后， 远程repository才接收到更改的记录， 并作出改变。</p>
<p>这样， 每一个本地的git repository都有关于主干（即对master分支的修改）， 以及本地分支（任何一个master以外的分支）的完整记录。 由于修改都是先提交到本地的git数据库中，因此提交修改速度都很快。</p>
<p>本文以 herblabel R程序包为例， 介绍如何使用git， 以及如何将herblabel的源代码托管到github上。 </p>
<ol>
<li>在github上， 创建相应程序包的repository, 如命名为 herblabel</li>
</ol>
<p>网址为 <a target="_blank" rel="noopener" href="https://github.com/helixcn/herblabel">https://github.com/helixcn/herblabel</a></p>
<p>若未安装git， 需要在terminal输入 <code>sudo apt-get install git</code></p>
<ol start="2">
<li>第一次使用本地版本的git时，需要设定用户名和联系方式</li>
</ol>
<p>打开 terminal,输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;Jinlong Zhang&quot;</span><br><span class="line">git config --global user.email &quot;jinlongzhang01@gmail.com&quot;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>更改 credential helper缓存密码的时间</li>
</ol>
<p><code>git config --global credential.helper &#39;cache --timeout=3600&#39;</code></p>
<ol start="4">
<li>在本地/herblabel/文件夹中 创建本地的repository</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /home/jinlong/git_repositories/github_herblabel/</span><br><span class="line">git init  </span><br></pre></td></tr></table></figure>


<ol start="5">
<li>在/herblabel/文件夹下， 将herblabel 源代码记录到git库中。</li>
</ol>
<p><code>git add *</code></p>
<ol start="6">
<li>master版本， 即最终发布版本，commit到本地的库中</li>
</ol>
<p><code>git commit -m &#39;initial commit&#39;</code></p>
<ol start="7">
<li>推送到github</li>
</ol>
<p><code>git push -u origin master</code>  </p>
<p>git会提示输入github的用户名和密码， 输入后， git会自动将master分支上传到服务器。 </p>
<ol start="8">
<li><p>将master分支推送到github服务器后， 每一次在本地进行修改时，如修整了软件的一个bug， 一般流程如下</p>
<ol>
<li>新建一个分支 如 herblabel_dev 命令如下 git checkout -b herblabel_dev</li>
<li>修改代码， fix the bug</li>
<li>回到master分支 git checkout master</li>
<li>将herblabel_dev所做的修改合并到master中: git merge herblabel_dev</li>
<li>提交所做的修改 git add *</li>
<li>记录所做的修改 git commit -m “XX bug fixed”</li>
<li>提交所做的修改到github服务器 git push, </li>
</ol>
</li>
</ol>
<p>本地使用分支 Branch<br>9. 创建一个新的分支（branch），将其作为活动分支（checkout），然后就可以编辑、载入和提交新的快照。</p>
<p> 创建新的分支herblabel_dev</p>
<p><code>git branch herblabel_dev</code></p>
<ol start="10">
<li><h2 id="将herblabel-dev分支作为工作分支"><a href="#将herblabel-dev分支作为工作分支" class="headerlink" title="将herblabel_dev分支作为工作分支"></a>将herblabel_dev分支作为工作分支</h2></li>
</ol>
<p><code>git checkout herblabel_dev</code></p>
<ol start="11">
<li><h2 id="继续编辑源代码，git会将改动自动记录到herblabel-dev分支下"><a href="#继续编辑源代码，git会将改动自动记录到herblabel-dev分支下" class="headerlink" title="继续编辑源代码，git会将改动自动记录到herblabel_dev分支下"></a>继续编辑源代码，git会将改动自动记录到herblabel_dev分支下</h2></li>
</ol>
<ol start="12">
<li><h2 id="查看状态"><a href="#查看状态" class="headerlink" title="查看状态"></a>查看状态</h2></li>
</ol>
<p><code>git status</code></p>
<ol start="13">
<li><h2 id="将进行的修改做详细的记录，-并做记录"><a href="#将进行的修改做详细的记录，-并做记录" class="headerlink" title="将进行的修改做详细的记录， 并做记录"></a>将进行的修改做详细的记录， 并做记录</h2></li>
</ol>
<p><code>git commit -m &#39;Fix Bug A&#39;</code></p>
<ol start="14">
<li><h2 id="转换到master分支，-git会自动显示哪些地方做了更改。"><a href="#转换到master分支，-git会自动显示哪些地方做了更改。" class="headerlink" title="转换到master分支， git会自动显示哪些地方做了更改。"></a>转换到master分支， git会自动显示哪些地方做了更改。</h2></li>
</ol>
<p>$ <code>git checkout master</code></p>
<ol start="15">
<li><h2 id="将改动的信息保存到git数据库中，-用log-消息记录"><a href="#将改动的信息保存到git数据库中，-用log-消息记录" class="headerlink" title="将改动的信息保存到git数据库中， 用log 消息记录"></a>将改动的信息保存到git数据库中， 用log 消息记录</h2></li>
</ol>
<p><code>$ git commit -a -m &#39;change files&#39;</code></p>
<ol start="16">
<li><h3 id="将-herblabel-dev分支上的改动，合并到当前分支"><a href="#将-herblabel-dev分支上的改动，合并到当前分支" class="headerlink" title="将 herblabel_dev分支上的改动，合并到当前分支"></a>将 herblabel_dev分支上的改动，合并到当前分支</h3></li>
</ol>
<p><code>git merge herblabel_dev</code></p>
<ol start="17">
<li><h3 id="删除这个分支"><a href="#删除这个分支" class="headerlink" title="删除这个分支"></a>删除这个分支</h3></li>
</ol>
<p><code>git branch -d herblabel_dev</code></p>
<p>如果在本地删除了某文件， 而同时希望在github上删除， 则应该先commit</p>
<p><code>git commit -a -m &quot;A file was deleted&quot;</code></p>
<p>之后push</p>
<p><code>git push</code></p>
<p>放弃本地所做的所有修改比如master分支：</p>
<p><code>git reset --hard origin/master</code></p>
<p>可以用 gitg 软件查看所做的更改以及分支</p>
<p>更多git的图形用户界面GUI参见 <a target="_blank" rel="noopener" href="https://git-scm.com/downloads/guis">https://git-scm.com/downloads/guis</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/05/17/2015-5-18-github/" data-id="ckrsvkzad006v90w01kae9jgp" data-title="用git在github上托管代码" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" rel="tag">版本控制</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-5-2-rfortran" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/05/02/2015-5-2-rfortran/" class="article-date">
  <time class="dt-published" datetime="2015-05-02T06:12:54.000Z" itemprop="datePublished">2015-05-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/05/02/2015-5-2-rfortran/">R中调用FORTRAN的两种方式</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Fortran是最古老的计算机语言之一，是专为数值计算设计的，在过去几十年中积累了大量代码。很多情况下，人们无需用R或Python重新实现fortran中已有的算法， 而是直接调用这些Fortran代码即可。相对其他编程语言，Fortran比较简单，而且很多编译器经过多次优化，代码的执行效率非常高，一般会超过C语言。虽然Fortran已经60岁了，但在涉及高性能计算的很多领域，如天文、物理、气象、统计等学科中仍发挥着重要作用。</p>
<p>Fortran语言的标准包括F77，F90，F95，F2003, F2008等。每一次版本调整， 一般是为语言增加部分新的特性。最常用的Fortran版本为F77和F90。Fortran77版本编写的代码，扩展名为.f, 以固定格式书写；而Fortran90的源代码文件，扩展名一般为f90，以相对自由的格式书写。</p>
<p>本文简要介绍在R中如何调用Fortran77和Fortran90代码，最后介绍在inline程序包中编译和调用fortran代码。</p>
<p>在R中调用Fortran代码的基本流程是：</p>
<ol>
<li>先将Fortran用gfortran编译为shared library。 在Windows下，要将fortran源代码编译为动态链接库 dll, 在Linux和Mac下编译为so文件。编译过程可通过cmd或者terminal调用gfortran（或者其他fortran编译器）实现，也可以直接在R中用system()函数调用gfortran编译。</li>
<li>在R中，用dyn.load()函数加载编译好的bishared library。</li>
<li>在R中，使用.Fortran()函数调用shared library中的代码，结果将以List的格式返回。</li>
</ol>
<h1 id="目标："><a href="#目标：" class="headerlink" title="目标："></a>目标：</h1><p>计算n的阶乘 n!=∏nk=1k∀n≥1 源代码用Fortran写成。</p>
<h1 id="所需软件"><a href="#所需软件" class="headerlink" title="所需软件"></a>所需软件</h1><ol>
<li>R(<a target="_blank" rel="noopener" href="https://cran.r-project.org/">https://cran.r-project.org/</a>)</li>
<li>Windows下，请安装Rtools，Rtools中包含gfortran编译器，安装时请将Rtools添加到启动 路径，参考 (<a target="_blank" rel="noopener" href="https://github.com/helixcn/programing_in_r_cn/blob/master/beamer/00_software_installation.pdf">https://github.com/helixcn/programing_in_r_cn/blob/master/beamer/00_software_installation.pdf</a> )</li>
</ol>
<h1 id="方法1，编译代码后加载和调用Fortran代码"><a href="#方法1，编译代码后加载和调用Fortran代码" class="headerlink" title="方法1，编译代码后加载和调用Fortran代码"></a>方法1，编译代码后加载和调用Fortran代码</h1><p>将Fortran代码编译为share library后，再用R的<code>.Fortran</code>函数调用。</p>
<h2 id="编译和调用Fortran77代码"><a href="#编译和调用Fortran77代码" class="headerlink" title="编译和调用Fortran77代码"></a>编译和调用Fortran77代码</h2><h3 id="Fortran-77源代码"><a href="#Fortran-77源代码" class="headerlink" title="Fortran 77源代码"></a>Fortran 77源代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">C   Content of file factorial.f</span><br><span class="line">C   FINDING THE FACTORIAL IN FORTRAN 77</span><br><span class="line">        SUBROUTINE FACTO1(N,ANSWER)        </span><br><span class="line">        INTEGER N, ANSWER, I</span><br><span class="line">        ANSWER &#x3D; 1</span><br><span class="line">        DO 100 I &#x3D; 2,N</span><br><span class="line">            ANSWER &#x3D; ANSWER * I</span><br><span class="line"> 100     CONTINUE</span><br><span class="line">        END</span><br></pre></td></tr></table></figure>

<h3 id="Mac和Linux下的R脚本"><a href="#Mac和Linux下的R脚本" class="headerlink" title="Mac和Linux下的R脚本"></a>Mac和Linux下的R脚本</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setwd(<span class="string">&quot;/Users/jinlong/Desktop/fortran_example/fortran77/&quot;</span>)</span><br><span class="line">system(<span class="string">&quot;R CMD SHLIB factorial.f&quot;</span>)</span><br><span class="line">dyn.load(<span class="string">&quot;factorial.so&quot;</span>)</span><br><span class="line">.Fortran(<span class="string">&quot;facto1&quot;</span>,n=<span class="built_in">as.integer</span>(<span class="number">5</span>),answer=<span class="built_in">as.integer</span>(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h3 id="Windows下的R脚本"><a href="#Windows下的R脚本" class="headerlink" title="Windows下的R脚本"></a>Windows下的R脚本</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setwd(<span class="string">&quot;C:\Users\jlzhang\Desktop\fortran77&quot;</span>)</span><br><span class="line">system(<span class="string">&quot;Rcmd SHLIB factorial.f&quot;</span>)</span><br><span class="line">dyn.load(<span class="string">&quot;factorial.dll&quot;</span>)</span><br><span class="line">.Fortran(<span class="string">&quot;facto1&quot;</span>,n=<span class="built_in">as.integer</span>(<span class="number">5</span>),answer=<span class="built_in">as.integer</span>(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h2 id="编译和调用Fortran90代码"><a href="#编译和调用Fortran90代码" class="headerlink" title="编译和调用Fortran90代码"></a>编译和调用Fortran90代码</h2><h3 id="Fortran90源代码"><a href="#Fortran90源代码" class="headerlink" title="Fortran90源代码"></a>Fortran90源代码</h3><figure class="highlight f90"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">! Content of file factorial.f90</span></span><br><span class="line"><span class="comment">! Finding the factorial in Fortran 90</span></span><br><span class="line"><span class="function"><span class="keyword">subroutine</span></span> facto2(n,answer)      </span><br><span class="line"><span class="keyword">implicit</span> <span class="keyword">none</span></span><br><span class="line">    <span class="keyword">integer</span> n, answer, i</span><br><span class="line">    answer = <span class="number">1</span></span><br><span class="line">    <span class="keyword">do</span> i = <span class="number">2</span>,n</span><br><span class="line">        answer = answer * i      </span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">subroutine</span></span> facto2</span><br></pre></td></tr></table></figure>

<h3 id="Linux下的R代码"><a href="#Linux下的R代码" class="headerlink" title="Linux下的R代码"></a>Linux下的R代码</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setwd(<span class="string">&quot;/Users/jinlong/Desktop/fortran_example/fortran90/&quot;</span>)</span><br><span class="line">system(<span class="string">&quot;R CMD SHLIB factorial.f90&quot;</span>)</span><br><span class="line">dyn.load(<span class="string">&quot;factorial.so&quot;</span>)</span><br><span class="line">.Fortran(<span class="string">&quot;facto2&quot;</span>,n=<span class="built_in">as.integer</span>(<span class="number">5</span>),answer=<span class="built_in">as.integer</span>(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h3 id="Windows下的R代码"><a href="#Windows下的R代码" class="headerlink" title="Windows下的R代码"></a>Windows下的R代码</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setwd(<span class="string">&quot;C:\Users\jlzhang\Desktop\fortran90&quot;</span>)</span><br><span class="line">system(<span class="string">&quot;Rcmd SHLIB factorial.f90&quot;</span>)</span><br><span class="line">dyn.load(<span class="string">&quot;factorial.dll&quot;</span>)</span><br><span class="line">.Fortran(<span class="string">&quot;facto2&quot;</span>, n=<span class="built_in">as.integer</span>(<span class="number">5</span>), answer=<span class="built_in">as.integer</span>(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h1 id="方法2，使用inline程序包"><a href="#方法2，使用inline程序包" class="headerlink" title="方法2，使用inline程序包"></a>方法2，使用inline程序包</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">library(inline)</span><br><span class="line">fcode &lt;- <span class="string">&quot;</span></span><br><span class="line"><span class="string">      integer::i</span></span><br><span class="line"><span class="string">      do i = 2, n(1)</span></span><br><span class="line"><span class="string">         res(1) = res(1) * i</span></span><br><span class="line"><span class="string">      end do</span></span><br><span class="line"><span class="string">&quot;</span></span><br><span class="line">fcodefun &lt;- cfunction(signature(n=<span class="string">&quot;integer&quot;</span>, res = <span class="string">&quot;integer&quot;</span>),</span><br><span class="line">                     fcode, convention=<span class="string">&quot;.Fortran&quot;</span>)</span><br><span class="line">fcodefun(n = <span class="built_in">as.integer</span>(<span class="number">5</span>), res = <span class="built_in">as.integer</span>(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<p>若要将Fortran编写到程序包中， 则需要将fortran源代码放入src文件夹中， 用.Fortran()直接调用fortran中的subroutine。R程序包的源代码中是不允许有已经编译好的可执行程序的， 因为这会造成安全风险以及可移植性的问题。注意，.Fortran()中的参数数据类型，必须与fortran代码中的类型一致，一般用 as.integer, as.double， as.character等转换成fortran代码能识别的数据类型。</p>
<p>labdsv程序包（<a target="_blank" rel="noopener" href="https://cran.r-project.org/web/packages/labdsv/index.html">https://cran.r-project.org/web/packages/labdsv/index.html</a> ）中包含了f77，可供参考。</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a target="_blank" rel="noopener" href="https://www.r-bloggers.com/fortran-and-r-speed-things-up/">https://www.r-bloggers.com/fortran-and-r-speed-things-up/</a></li>
<li><a target="_blank" rel="noopener" href="http://lists.r-forge.r-project.org/pipermail/rcpp-devel/2016-October/009389.html">http://lists.r-forge.r-project.org/pipermail/rcpp-devel/2016-October/009389.html</a></li>
<li><a target="_blank" rel="noopener" href="http://users.stat.umn.edu/~geyer/rc/">http://users.stat.umn.edu/~geyer/rc/</a></li>
<li><a target="_blank" rel="noopener" href="http://www.econr.org/FortranAndR.html">http://www.econr.org/FortranAndR.html</a></li>
<li><a target="_blank" rel="noopener" href="http://dirk.eddelbuettel.com/code/rcpp/Rcpp-introduction.pdf">http://dirk.eddelbuettel.com/code/rcpp/Rcpp-introduction.pdf</a></li>
<li><a target="_blank" rel="noopener" href="http://www.mjdenny.com/Rcpp_Intro.html">http://www.mjdenny.com/Rcpp_Intro.html</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/05/02/2015-5-2-rfortran/" data-id="ckrsvkzae006x90w08dg74ync" data-title="R中调用FORTRAN的两种方式" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/R%E7%BC%96%E7%A8%8B/" rel="tag">R编程</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-4-16-colors" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/04/16/2015-4-16-colors/" class="article-date">
  <time class="dt-published" datetime="2015-04-16T01:46:54.000Z" itemprop="datePublished">2015-04-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/04/16/2015-4-16-colors/">山寨版 Color Checker</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#### 颜色</span></span><br><span class="line">colours&lt;-<span class="built_in">c</span>(<span class="string">&quot;#735244&quot;</span>, <span class="string">&quot;#c29682&quot;</span>, <span class="string">&quot;#627a9d&quot;</span>, <span class="string">&quot;#576c43&quot;</span>, <span class="string">&quot;#8580b1&quot;</span>, <span class="string">&quot;#67bdaa&quot;</span>, <span class="string">&quot;#d67e2c&quot;</span>, <span class="string">&quot;#505ba6&quot;</span>,</span><br><span class="line"> <span class="string">&quot;#c15a63&quot;</span>, <span class="string">&quot;#5e3c6c&quot;</span>, <span class="string">&quot;#9dbc40&quot;</span>, <span class="string">&quot;#e0a32e&quot;</span>, <span class="string">&quot;#383d96&quot;</span>, <span class="string">&quot;#469449&quot;</span>, <span class="string">&quot;#af363c&quot;</span>, <span class="string">&quot;#e7c71f&quot;</span>,</span><br><span class="line"> <span class="string">&quot;#bb5695&quot;</span>, <span class="string">&quot;#0885a1&quot;</span>, <span class="string">&quot;#f3f3f2&quot;</span>, <span class="string">&quot;#c8c8c8&quot;</span>, <span class="string">&quot;#a0a0a0&quot;</span>, <span class="string">&quot;#7a7a79&quot;</span>, <span class="string">&quot;#555555&quot;</span>, <span class="string">&quot;#343434&quot;</span>)</span><br><span class="line"><span class="comment">#### xy矩阵</span></span><br><span class="line">x =<span class="number">1</span>:<span class="number">24</span></span><br><span class="line">y =<span class="number">1</span>:<span class="number">24</span></span><br><span class="line"><span class="built_in">dim</span>(x)&lt;-<span class="built_in">c</span>(<span class="number">4</span>, <span class="number">6</span>)</span><br><span class="line"><span class="built_in">dim</span>(y)&lt;-<span class="built_in">c</span>(<span class="number">4</span>, <span class="number">6</span>)</span><br><span class="line">x1 =<span class="number">2</span></span><br><span class="line">y1 =-<span class="number">2</span></span><br><span class="line"><span class="keyword">for</span>(i in1:<span class="number">6</span>)&#123;</span><br><span class="line">  <span class="keyword">for</span>(j in1:<span class="number">4</span>)&#123;</span><br><span class="line">      x[j, i]&lt;-x1 +i*(<span class="number">13.5</span>+<span class="number">2</span>)</span><br><span class="line">      y[j, i]&lt;-y1 -j*(<span class="number">13.5</span>+<span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#### 定义颜色块出现的位置</span></span><br><span class="line">x2 &lt;-x -<span class="number">13.5</span></span><br><span class="line">y2 &lt;-y -<span class="number">13.5</span></span><br><span class="line"><span class="comment">### pdf(file =&quot;color.checkerNaNyk.pdf&quot;, width =4, height = 3,colormodel=&quot;cmyk&quot;)</span></span><br><span class="line"><span class="comment">#pdf(file = &quot;color.checker.rgb.pdf&quot;, width =4.2,height = 3)</span></span><br><span class="line">par(bg =<span class="string">&#x27;black&#x27;</span>, mar =<span class="built_in">c</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">.8</span>,<span class="number">0</span>))</span><br><span class="line">plot(<span class="number">1</span>, xlim=<span class="built_in">c</span>(<span class="number">5</span>, <span class="number">94</span>), ylim =<span class="built_in">c</span>(-<span class="number">77</span>, -<span class="number">18</span>),pch =<span class="string">&quot;&quot;</span>)</span><br><span class="line">cols &lt;-colours</span><br><span class="line">k =<span class="number">1</span></span><br><span class="line"><span class="keyword">for</span>(i in1:<span class="number">4</span>)&#123;</span><br><span class="line">  <span class="keyword">for</span>(j in1:<span class="number">6</span>)&#123;</span><br><span class="line">      rect(x[i,j],y[i,j],x2[i,j],y2[i,j],col= cols[k])</span><br><span class="line">      k =k +<span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">mtext(<span class="string">&quot;Colour Checker in RGB&quot;</span>,side =<span class="number">3</span>, line=<span class="number">.01</span>, col=<span class="string">&quot;white&quot;</span>,cex =<span class="number">0.6</span>)</span><br><span class="line"><span class="comment">#dev.off()</span></span><br><span class="line"><span class="comment">#pdf(file =&quot;color.checker.CMYK.pdf&quot;, width =4.2, height =3,colormodel=&quot;cmyk&quot;)</span></span><br><span class="line">par(bg =<span class="string">&#x27;black&#x27;</span>, mar =<span class="built_in">c</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">.8</span>,<span class="number">0</span>))</span><br><span class="line">plot(<span class="number">1</span>, xlim=<span class="built_in">c</span>(<span class="number">5</span>, <span class="number">94</span>), ylim =<span class="built_in">c</span>(-<span class="number">77</span>, -<span class="number">18</span>),pch =<span class="string">&quot;&quot;</span>)</span><br><span class="line">cols &lt;-colours</span><br><span class="line">k =<span class="number">1</span></span><br><span class="line"><span class="keyword">for</span>(i in1:<span class="number">4</span>)&#123;</span><br><span class="line">  <span class="keyword">for</span>(j in1:<span class="number">6</span>)&#123;</span><br><span class="line">      rect(x[i,j],y[i,j],x2[i,j],y2[i,j],col= cols[k])</span><br><span class="line">      k =k +<span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">mtext(<span class="string">&quot;Colour Checker in CMYK&quot;</span>,side =<span class="number">3</span>, line=<span class="number">.01</span>, col=<span class="string">&quot;white&quot;</span>,cex =<span class="number">0.6</span>)</span><br><span class="line"><span class="comment">#dev.off()</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/04/16/2015-4-16-colors/" data-id="ckrsvkzad006t90w07so2hks2" data-title="山寨版 Color Checker" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A0%87%E6%9C%AC%E9%A6%86/" rel="tag">标本馆</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-4-1-installrpack" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/04/01/2015-4-1-installrpack/" class="article-date">
  <time class="dt-published" datetime="2015-03-31T20:16:54.000Z" itemprop="datePublished">2015-04-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/04/01/2015-4-1-installrpack/">Windows从源代码安装R程序包－以安装picante程序包为例</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>按：本文主要是为了回复北京大学王庆刚博士的问题而准备的。 这里截取了email中部分内容， 希望对使用R的同仁有帮助。</p>
<h1 id="主要步骤"><a href="#主要步骤" class="headerlink" title="主要步骤"></a>主要步骤</h1><ol>
<li><p>安装Rtools、MikTeX及7zip</p>
</li>
<li><p>下载源代码 picante <a target="_blank" rel="noopener" href="http://cran.r-project.org/src/contrib/picante_1.6-2.tar.gz">http://cran.r-project.org/src/contrib/picante_1.6-2.tar.gz</a> 解压缩。</p>
</li>
<li><p>在windows cmd 的命令行中输入相应的命令，生成zip文件或者.tar.gz,并进行相应的检查。</p>
</li>
</ol>
<h1 id="1-安装工具软件"><a href="#1-安装工具软件" class="headerlink" title="1. 安装工具软件"></a>1. 安装工具软件</h1><h2 id="（1）Rtools（制作R包的主要工具）"><a href="#（1）Rtools（制作R包的主要工具）" class="headerlink" title="（1）Rtools（制作R包的主要工具）"></a>（1）Rtools（制作R包的主要工具）</h2><p>Rtools是在windows下制作R包的一系列工具。下载地址： <a target="_blank" rel="noopener" href="http://cran.r-project.org/bin/windows/Rtools/">http://cran.r-project.org/bin/windows/Rtools/</a></p>
<h2 id="（2）-MikTeX"><a href="#（2）-MikTeX" class="headerlink" title="（2） MikTeX"></a>（2） MikTeX</h2><p>用来生成PDF格式的帮助文件。<br>下载地址：<a target="_blank" rel="noopener" href="http://www.miktex.org/">http://www.miktex.org/</a></p>
<h2 id="（3）-7zip"><a href="#（3）-7zip" class="headerlink" title="（3） 7zip"></a>（3） 7zip</h2><p>用来为程序包的源代码解压缩。<br><a target="_blank" rel="noopener" href="http://www.7-zip.org/download.html">http://www.7-zip.org/download.html</a></p>
<h1 id="2-设置文件启动路径："><a href="#2-设置文件启动路径：" class="headerlink" title="2. 设置文件启动路径："></a>2. 设置文件启动路径：</h1><p>设置启动路径的目的是在cmd命令行可以直接调用R, Rtools以及MikTeX等相应软件。</p>
<p>右键点击：</p>
<p>我的电脑&gt;属性&gt;高级&gt;环境变量&gt;系统变量  PATH一项，点击“编辑”，检查是否具有以下路径。通常软件在安装时已经自动配置好了启动路径。</p>
<h1 id="3-解压缩R源代码，-并放在路径无中文的文件夹下。"><a href="#3-解压缩R源代码，-并放在路径无中文的文件夹下。" class="headerlink" title="3. 解压缩R源代码， 并放在路径无中文的文件夹下。"></a>3. 解压缩R源代码， 并放在路径无中文的文件夹下。</h1><p>例如 建立一个文件夹 package， 将 picante_1.6-2.tar.gz 文件拷贝到 package文件夹下。 点击右键， 用7zip解压缩，直到 picante 文件夹这一层为止。</p>
<h1 id="4-在-package文件夹下，-创建四个纯文本文件"><a href="#4-在-package文件夹下，-创建四个纯文本文件" class="headerlink" title="4. 在 package文件夹下， 创建四个纯文本文件"></a>4. 在 package文件夹下， 创建四个纯文本文件</h1><h2 id="（1）“install-Check-txt”"><a href="#（1）“install-Check-txt”" class="headerlink" title="（1）“install Check.txt”"></a>（1）“install Check.txt”</h2><p>用记事本打开， 输入如下内容（不包括引号）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Rcmd check picante</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<p>保存</p>
<h2 id="（2）“install-create-Linux-txt”"><a href="#（2）“install-create-Linux-txt”" class="headerlink" title="（2）“install create Linux.txt”"></a>（2）“install create Linux.txt”</h2><p>用记事本打开， 输入如下内容（不包括引号）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Rcmd build picante</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<p>保存</p>
<h2 id="（3）“install-create-Windows-Binary-txt”"><a href="#（3）“install-create-Windows-Binary-txt”" class="headerlink" title="（3）“install create Windows Binary.txt”"></a>（3）“install create Windows Binary.txt”</h2><p>用记事本打开， 输入如下内容（不包括引号）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Rcmd INSTALL --build picante</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<p>保存</p>
<h2 id="（4）“install-txt”"><a href="#（4）“install-txt”" class="headerlink" title="（4）“install.txt”"></a>（4）“install.txt”</h2><p>用记事本打开， 输入如下内容（不包括引号）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Rcmd INSTALL picante</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<p>保存</p>
<p><strong>将扩展名txt 更改为 .bat</strong></p>
<h1 id="5-检查和安装"><a href="#5-检查和安装" class="headerlink" title="5. 检查和安装"></a>5. 检查和安装</h1><ul>
<li><p>双击install Check.bat， 进行程序包的检查。</p>
</li>
<li><p>双击install create Linux.bat， 生成R程序包源代码包。</p>
</li>
<li><p>双击install create Windows Binary.bat， 生成Windows下的安装包。</p>
</li>
<li><p>双击install.bat， 安装到本地的R的library中。</p>
</li>
</ul>
<p>CRAN上部分程序包由于错误太多， 而被移动到Archive， 而只提供源代码。 在安装这些程序包的时候， 可能会遇到检查无法通过的情况。 请注意， 当前版本的R， 必须提供Namespace文件。 可以参考 Writing R Extensions 了解 Namespace等的写法。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/04/01/2015-4-1-installrpack/" data-id="ckrsvkzac006r90w074vo04jx" data-title="Windows从源代码安装R程序包－以安装picante程序包为例" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/R%E7%BC%96%E7%A8%8B/" rel="tag">R编程</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-03-21-svn" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/03/21/2015-03-21-svn/" class="article-date">
  <time class="dt-published" datetime="2015-03-20T17:27:54.000Z" itemprop="datePublished">2015-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/03/21/2015-03-21-svn/">用tortoisesvn管理Rforge上的程序包</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>tortoiseSVN是用来进行版本控制的， 任何一次修改， 都放在数据库中，极大地方便了跟踪程序开发的进程。 下载网址为：</p>
<p><a target="_blank" rel="noopener" href="http://sourceforge.net/projects/tortoisesvn/?source=typ_redirect">http://sourceforge.net/projects/tortoisesvn</a></p>
<p>用TortoiseSVN管理本地的源代码， 并推送至Rforge的步骤如下</p>
<ol>
<li>创建repository：</li>
</ol>
<p>新建一個空白的文件夾，如spaa repository， 用來作為repository。 點擊右鍵， TortoiseSVN &gt; Create repository Here。</p>
<p>2.创建源代码文件夹：</p>
<p>新建一個空白文件夾， 如spaa， 用來保存程序源代碼。 右鍵svn checkout，選擇合適的repository文件夾。</p>
<ol start="3">
<li>拷贝源代码：</li>
</ol>
<p>將程序的源代碼， 復制到spaa文件夾下。</p>
<ol start="4">
<li>Commit 和 update：</li>
</ol>
<p>再次點擊右鍵， SVN update， 是從spaa repository復制到本地spaa； SVN commit，是從spaa上傳到服務器上（或repository上）。SVN commit是將本地的修改， 上傳到服務器上。</p>
<ol start="5">
<li>管理r-forge上的项目：</li>
</ol>
<p>如果是rforge上的項目， 如 xxxx， 在設定 svn checkout的時候， 需要設定遠程文件夾為，svn+ssh://yourusername@r-forge.r-project.org/svnroot/xxxx/  </p>
<p>当然， 必须先要在r-forge上登记了这个项目才可以。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/03/21/2015-03-21-svn/" data-id="ckrsvkza3006590w01yt4h0xt" data-title="用tortoisesvn管理Rforge上的程序包" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" rel="tag">版本控制</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-2-20-tiefeng" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/02/20/2015-2-20-tiefeng/" class="article-date">
  <time class="dt-published" datetime="2015-02-19T22:05:54.000Z" itemprop="datePublished">2015-02-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/02/20/2015-2-20-tiefeng/">忆铁峰</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>铁峰姓朴，是西北农林科技大学水保所的青年教师，和我同岁， 之前在东北林业大学学习， 并在韩国江原道大学留学。铁峰做的是群落生态学中的密度制约，做得很出色。研究成果发表在国际主流刊物上，受到同行的关注。</p>
<p>初识铁峰是在2009年， 那一年我和研究组米湘成老师去小兴安岭伊春的凉水样地和五营采集DNA材料。这两个样地是东北林业大学金光泽教授负责建立的， 铁峰就在金光泽教授的实验室帮忙。这是与铁峰第一次见面： 他个头很高，相当魁梧，很健谈。当地保护区的宋科长和铁峰也都很熟，因为他是朝鲜族， 给他起了个外号：“铁棒”，但是他也不生气。在实验样地， 我们一起在凉水样地采集样品， 铁峰帮我们找材料， 穿梭在红松、落叶松和冷杉之间。晚上回来， 一边压标本， 一起聊天， 他就介绍自己在韩国留学的经历。我问他， 作为朝鲜族， 在韩国留学， 是什么感觉？ 他说， 就是觉得自己还是中国人， 与朝鲜人还是很不同。</p>
<p>之后， 我们一直通过QQ联系。2010年， 2011年， 铁峰和东北林业大学的几位研究生到中国科学院植物研究所培训，我请他们吃饭， 一起聊密度制约，聊群落生态研究。</p>
<p>两年前， 铁峰到了陕西杨凌，成了西北农林科技大学的青年教师， 我们还经常通过QQ联络：聊聊学校， 聊未来的发展， 聊合作研究。</p>
<p>今年过年回家，我直到初一晚上才找到时间给能联系到的好友们发新年祝福消息，我写到“铁峰兄， 新年快乐， 万事如意！”谁料今早收到他姨母的回复，“他以离开这个世界啦 你还不知道吗？ 我是他的姨。” 接着又收到铁峰妈妈的电话， 同我讲述了大约是十天前， 铁峰一个人去位于延安的实验样地， 不知什么原因， 栽倒在一个坑中， 发现时， 已经太晚了。我安慰了阿姨很久， 但是人已不在， 生者还需要坚强。</p>
<p>这样一位年轻的朋友就这么走了， 我心情非常沉重。铁峰，希望你在天国好好的。天堂里再没有文章压力，没有项目评审，没有做不完的实验， 没有一个人出差…….</p>
<p>铁峰的weibo<br><a target="_blank" rel="noopener" href="http://t.qq.com/Bonze_Tang">http://t.qq.com/Bonze_Tang</a></p>
<p>铁峰</p>
<p><a target="_blank" rel="noopener" href="http://www.escience.cn/people/piaotiefeng/index.html">http://www.escience.cn/people/piaotiefeng/index.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/02/20/2015-2-20-tiefeng/" data-id="ckrsvkzaa006n90w0bctge5l9" data-title="忆铁峰" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%BA%E7%89%A9/" rel="tag">人物</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2015-2-5-gpx" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/02/04/2015-2-5-gpx/" class="article-date">
  <time class="dt-published" datetime="2015-02-04T08:33:54.000Z" itemprop="datePublished">2015-02-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/02/04/2015-2-5-gpx/">为kml文件添加时间并转存为gpx航迹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>为数码照片添加经纬度坐标， 若无gps航迹， 可用google earth绘制出路径。 然后用本文提供的R函数为kml中的数据点拟合时间， 并另存为gpx文件。生成的gpx文件可用来为照片添加地理坐标 （参见 <a target="_blank" rel="noopener" href="http://bbs.sciencenet.cn/blog-255662-864234.html">http://blog.sciencenet.cn/blog-255662-864234.html</a>  ）。</p>
<p>kml文件是google earth的一种标记语言, 属于xml格式。在google earth中绘制航迹时，只有经纬度，而无时间。</p>
<p>gpx文件也是一种xml文件，gps导出的航迹文件，由多个点组成， 顺序链接在一起， 核心部分由 经度， 纬度， 海拔， 以及时间组成， 其中经度， 纬度为WGS84坐标系，以度为单位。海拔单位为米， 时间格式为 2015-02-05T23:38:09Z， 按照坐标顺序， 第一个点时间最早。时间必须用世界时。</p>
<p>具体步骤操作如下：</p>
<ol>
<li><p>在google earth绘制航迹， 保存为ttt.km</p>
</li>
<li><p>在R中， 用以下函数， 读取kml文件的坐标， 并拟合航迹的开始时间以及最后的时间。</p>
</li>
</ol>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">library(maptools)  <span class="comment">###导入需要maptools程序包</span></span><br><span class="line">kml2timetag &lt;- <span class="keyword">function</span>(kmlfile = <span class="string">&quot;ttt.kml&quot;</span>,</span><br><span class="line">                start.time = <span class="string">&quot;2015-02-04 21:39:36&quot;</span>,</span><br><span class="line">                 end.time =  <span class="string">&quot;2015-02-05 23:40:50&quot;</span>,</span><br><span class="line">                 csv.file = <span class="literal">NULL</span>)</span><br><span class="line"><span class="comment">#### kml2timetag 函数读取kml文件中的经纬度坐标</span></span><br><span class="line"><span class="comment">#### kml2timetag 函数， 用来读取kml文件， 拟定航迹上每个点的时间</span></span><br><span class="line"><span class="comment">#### 该函数假设每个点对应的时间均匀流逝。</span></span><br><span class="line"><span class="comment">#### 返回值为 data.frame, 共四列</span></span><br><span class="line"><span class="comment">#### (1) &quot;longitude&quot; (2) &quot;latitude&quot; (3) &quot;altitude&quot; (4)&quot;time&quot;</span></span><br><span class="line"><span class="comment">#### 并可以保存为csv文件， 在必要的情况下， 在excel中进行编辑。</span></span><br><span class="line">&#123;</span><br><span class="line"> require(<span class="string">&quot;maptools&quot;</span>)</span><br><span class="line"> Sys.setlocale(<span class="string">&quot;LC_TIME&quot;</span>, <span class="string">&quot;English&quot;</span>)</span><br><span class="line"> dat &lt;- getKMLcoordinates(kmlfile = kmlfile, ignoreAltitude=<span class="literal">FALSE</span>)</span><br><span class="line"> start.time &lt;- as.POSIXlt(start.time)</span><br><span class="line"> end.time &lt;- as.POSIXlt(end.time)</span><br><span class="line"> time.zone = <span class="number">8</span></span><br><span class="line"> points.time &lt;-  seq(start.time, end.time, length.out = nrow(dat[[<span class="number">1</span>]]))</span><br><span class="line"> points.time2 &lt;- format(points.time, <span class="string">&quot;%Y-%m-%dT%H:%M:%SZ&quot;</span>)</span><br><span class="line"> dat &lt;- cbind(dat[[<span class="number">1</span>]], points.time2)</span><br><span class="line"> colnames(dat) &lt;- <span class="built_in">c</span>(<span class="string">&quot;longitude&quot;</span>, <span class="string">&quot;latitude&quot;</span>, <span class="string">&quot;altitude&quot;</span>, <span class="string">&quot;time&quot;</span>)</span><br><span class="line"> <span class="keyword">if</span>(!<span class="built_in">is.null</span>(csv.file))&#123;</span><br><span class="line">     write.csv(dat, csv.file)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">return</span>(as.data.frame(dat))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tagkml2gpx &lt;- <span class="keyword">function</span>(dat, output = <span class="string">&quot;res.gpx&quot;</span>)&#123;</span><br><span class="line"> <span class="comment">#### tagkml2gpx 用来转换data.frame到</span></span><br><span class="line"> <span class="comment">#### dat，为data.frame， 共四列， 列名必须为</span></span><br><span class="line"> <span class="comment">#### (1) &quot;longitude&quot; (2) &quot;latitude&quot; (3) &quot;altitude&quot; (4)&quot;time&quot;</span></span><br><span class="line"> <span class="comment">#### 即函数kml2timetag的返回值， 作为本函数的输入值</span></span><br><span class="line"> <span class="comment">#### 输出值为gpx函数。</span></span><br><span class="line"> res &lt;- <span class="built_in">c</span>(                  </span><br><span class="line"> <span class="string">&quot;&lt;?xml version=&quot;</span>1.0<span class="string">&quot; encoding=&quot;</span>UTF-<span class="number">8</span><span class="string">&quot; standalone=&quot;</span>no<span class="string">&quot; ?&gt;&quot;</span>,</span><br><span class="line"> <span class="string">&quot;&lt;gpx&gt;&quot;</span>,</span><br><span class="line"> <span class="string">&quot;  &lt;trk&gt;&quot;</span>,</span><br><span class="line"> <span class="string">&quot;    &lt;name&gt;Track written by tagkml2gpx&lt;/name&gt;&quot;</span>,</span><br><span class="line"> <span class="string">&quot;    &lt;trkseg&gt;&quot;</span>)</span><br><span class="line"> <span class="keyword">for</span>(i <span class="keyword">in</span> <span class="number">1</span>:nrow(dat))&#123;</span><br><span class="line">    res &lt;- <span class="built_in">c</span>(res,</span><br><span class="line">       paste(<span class="string">&quot;     &lt;trkpt lat=&quot;</span><span class="string">&quot;,dat$latitude[i], &quot;</span>\<span class="string">&quot; lon=\&quot;&quot;</span>,</span><br><span class="line">         dat$longitude[i], <span class="string">&quot;\&quot;&gt;&quot;</span>, collapse = <span class="string">&quot;&quot;</span>, sep = <span class="string">&quot;&quot;</span>),</span><br><span class="line">       paste(<span class="string">&quot;     &lt;ele&gt;&quot;</span>, dat$altitude[i], <span class="string">&quot;&lt;/ele&gt;&quot;</span>, sep = <span class="string">&quot;&quot;</span>),</span><br><span class="line">       paste(<span class="string">&quot;     &lt;time&gt;&quot;</span>, dat$time[i], <span class="string">&quot;&lt;/time&gt;&quot;</span>, sep = <span class="string">&quot;&quot;</span>),</span><br><span class="line">      <span class="string">&quot;     &lt;/trkpt&gt;&quot;</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> res &lt;- <span class="built_in">c</span>(res,</span><br><span class="line"> <span class="string">&quot;    &lt;/trkseg&gt;&quot;</span>,</span><br><span class="line"> <span class="string">&quot;  &lt;/trk&gt;&quot;</span>,</span><br><span class="line"> <span class="string">&quot;&lt;/gpx&gt;&quot;</span>)</span><br><span class="line"> writeLines(res, output)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dat2 &lt;- kml2timetag(kmlfile = <span class="string">&quot;ttt.kml&quot;</span>,</span><br><span class="line">               start.time = <span class="string">&quot;2015-02-04 21:39:36&quot;</span>,</span><br><span class="line">               end.time =  <span class="string">&quot;2015-02-05 23:40:50&quot;</span>)</span><br><span class="line">tagkml2gpx(dat2, output = <span class="string">&quot;res.gpx&quot;</span>)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://helixcn.github.io/2015/02/04/2015-2-5-gpx/" data-id="ckrsvkzab006p90w0cj1wa83c" data-title="为kml文件添加时间并转存为gpx航迹" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/R%E7%BC%96%E7%A8%8B/" rel="tag">R编程</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/13/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/15/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/R%E7%BC%96%E7%A8%8B/" rel="tag">R编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%BA%E7%89%A9/" rel="tag">人物</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%99%E4%BD%9C/" rel="tag">写作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">可视化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E4%B9%A6/" rel="tag">图书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" rel="tag">图像处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9C%B0%E7%90%86/" rel="tag">地理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A3%B0%E6%98%8E/" rel="tag">声明</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A9%E6%96%87/" rel="tag">天文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/" rel="tag">学习资源</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%B9%E8%AF%9D%E5%BD%95/" rel="tag">对话录</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E5%BE%97/" rel="tag">心得</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%A5%E5%91%8A/" rel="tag">报告</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E7%89%88/" rel="tag">排版</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%85%E4%B9%A1/" rel="tag">故乡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%87%E6%9C%AC%E9%A6%86/" rel="tag">标本馆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A4%8D%E7%89%A9%E5%88%86%E7%B1%BB/" rel="tag">植物分类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A4%8D%E7%89%A9%E5%AD%A6%E5%90%8D/" rel="tag">植物学名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B1%82%E8%81%8C/" rel="tag">求职</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" rel="tag">版本控制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%80%81/" rel="tag">生态</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%80%81%E8%B5%84%E8%AE%AF/" rel="tag">生态资讯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/" rel="tag">生活点滴</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A0%94%E7%A9%B6%E8%B5%84%E8%AE%AF/" rel="tag">研究资讯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B3%BB%E7%BB%9F%E5%8F%91%E8%82%B2/" rel="tag">系统发育</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%9F%E8%AE%A1/" rel="tag">统计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%8C%E6%91%84%E5%8C%86%E5%8C%86/" rel="tag">行摄匆匆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A7%81%E9%97%BB%E5%BD%95/" rel="tag">见闻录</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%97%E6%AD%8C/" rel="tag">诗歌</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6/" rel="tag">软件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E5%8C%96/" rel="tag">进化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E6%83%B3/" rel="tag">随想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A9%B3%E8%AE%BA/" rel="tag">驳论</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/R%E7%BC%96%E7%A8%8B/" style="font-size: 18.75px;">R编程</a> <a href="/tags/%E4%BA%BA%E7%89%A9/" style="font-size: 11.88px;">人物</a> <a href="/tags/%E5%86%99%E4%BD%9C/" style="font-size: 13.13px;">写作</a> <a href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" style="font-size: 12.5px;">可视化</a> <a href="/tags/%E5%9B%BE%E4%B9%A6/" style="font-size: 10px;">图书</a> <a href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 11.88px;">图像处理</a> <a href="/tags/%E5%9C%B0%E7%90%86/" style="font-size: 17.5px;">地理</a> <a href="/tags/%E5%A3%B0%E6%98%8E/" style="font-size: 10.63px;">声明</a> <a href="/tags/%E5%A4%A9%E6%96%87/" style="font-size: 16.25px;">天文</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%BA%90/" style="font-size: 10px;">学习资源</a> <a href="/tags/%E5%AF%B9%E8%AF%9D%E5%BD%95/" style="font-size: 10px;">对话录</a> <a href="/tags/%E5%BF%83%E5%BE%97/" style="font-size: 10px;">心得</a> <a href="/tags/%E6%8A%A5%E5%91%8A/" style="font-size: 12.5px;">报告</a> <a href="/tags/%E6%8E%92%E7%89%88/" style="font-size: 13.75px;">排版</a> <a href="/tags/%E6%95%85%E4%B9%A1/" style="font-size: 10.63px;">故乡</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10.63px;">数据库</a> <a href="/tags/%E6%A0%87%E6%9C%AC%E9%A6%86/" style="font-size: 14.38px;">标本馆</a> <a href="/tags/%E6%A4%8D%E7%89%A9%E5%88%86%E7%B1%BB/" style="font-size: 10px;">植物分类</a> <a href="/tags/%E6%A4%8D%E7%89%A9%E5%AD%A6%E5%90%8D/" style="font-size: 10px;">植物学名</a> <a href="/tags/%E6%B1%82%E8%81%8C/" style="font-size: 10px;">求职</a> <a href="/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" style="font-size: 11.25px;">版本控制</a> <a href="/tags/%E7%94%9F%E6%80%81/" style="font-size: 16.88px;">生态</a> <a href="/tags/%E7%94%9F%E6%80%81%E8%B5%84%E8%AE%AF/" style="font-size: 10px;">生态资讯</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4/" style="font-size: 10px;">生活点滴</a> <a href="/tags/%E7%A0%94%E7%A9%B6%E8%B5%84%E8%AE%AF/" style="font-size: 10px;">研究资讯</a> <a href="/tags/%E7%B3%BB%E7%BB%9F%E5%8F%91%E8%82%B2/" style="font-size: 10px;">系统发育</a> <a href="/tags/%E7%BB%9F%E8%AE%A1/" style="font-size: 18.13px;">统计</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 10.63px;">编程</a> <a href="/tags/%E8%A1%8C%E6%91%84%E5%8C%86%E5%8C%86/" style="font-size: 15px;">行摄匆匆</a> <a href="/tags/%E8%A7%81%E9%97%BB%E5%BD%95/" style="font-size: 10px;">见闻录</a> <a href="/tags/%E8%AF%97%E6%AD%8C/" style="font-size: 15.63px;">诗歌</a> <a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size: 19.38px;">软件</a> <a href="/tags/%E8%BF%9B%E5%8C%96/" style="font-size: 10.63px;">进化</a> <a href="/tags/%E9%9A%8F%E6%83%B3/" style="font-size: 11.25px;">随想</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 20px;">随笔</a> <a href="/tags/%E9%A9%B3%E8%AE%BA/" style="font-size: 10px;">驳论</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/06/">June 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">May 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">April 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">February 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">January 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">December 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">November 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/10/">October 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/08/">August 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/07/">July 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">May 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">April 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/03/">March 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/02/">February 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/12/">December 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/11/">November 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">September 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/08/">August 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/07/">July 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/06/">June 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/05/">May 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/04/">April 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">March 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/01/">January 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/08/">August 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/07/">July 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/06/">June 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/05/">May 2009</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/01/15/dangxia/">当下</a>
          </li>
        
          <li>
            <a href="/2021/11/05/2021-11-05lamtsuenriver/">林村河</a>
          </li>
        
          <li>
            <a href="/2021/09/13/2021-10-19school/">最初的小学时光</a>
          </li>
        
          <li>
            <a href="/2021/07/25/2021-07-25beans/">种豆记</a>
          </li>
        
          <li>
            <a href="/2021/07/19/2021-07-19-rresources/">植物学和生态学的一些R语言学习资源</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Jinlong Zhang<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>